{"version":3,"sources":["../src/GithubOauth.js"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;IAKqB;AACnB,WADmB,UACnB,OAAyC;QAA3B,aAA2B;QAAvB,qBAAuB;2BAAf,OAAe;QAAf,qCAAS,iBAAM;;0BADtB,YACsB;;AACvC,0BAAO,EAAP,EAAW,sBAAX,EADuC;AAEvC,0BAAO,MAAP,EAAe,0BAAf,EAFuC;AAGvC,QAAI,aAAa,OAAO,MAAP,GAAgB,CAAhB,GAAoB,aAAa,OAAO,IAAP,CAAY,KAAZ,CAAb,GAAkC,EAAtD,CAHsB;AAIvC,SAAK,QAAL,GAAgB,EAAhB,CAJuC;AAKvC,SAAK,YAAL,GAAoB,MAApB,CALuC;AAMvC,SAAK,MAAL,GAAc,IAAd,CANuC;AAOvC,SAAK,OAAL,GAAe,IAAf,CAPuC;AAQvC,SAAK,MAAL,GAAc,IAAd,CARuC;GAAzC;;eADmB;;mCAYJ;AACb,WAAK,MAAL,GAAc,4BAAkB,EAAE,OAAO,GAAP,EAAY,QAAQ,GAAR,EAAa,oBAAoB,KAApB,EAA7C,CAAd,CADa;AAEb,UAAI,UAAU,8CAA8C,KAAK,QAAL,GAAgB,UAA9D,CAFD;AAGb,WAAK,MAAL,CAAY,OAAZ,CAAoB,OAApB,EAHa;;;;SAZI","file":"GithubOauth.js","sourcesContent":["'use strict';\n\nimport assert from 'assert';\nimport { BrowserWindow } from 'electron';\n\nexport default class AuthWindow {\n  constructor({ id, secret, scopes = [] }) {\n    assert(id, 'Client ID is needed!');\n    assert(secret, 'Client Secret is needed!');\n    let scopeQuery = scopes.length > 0 ? '?scopes=' + scopes.join('%2C') : '';\n    this.clientId = id;\n    this.clientSecret = secret;\n    this.window = null;\n    this.resolve = null;\n    this.reject = null;\n  }\n\n  startRequest() {\n    this.window = new BrowserWindow({ width: 800, height: 600, 'node-integration': false });\n    var authURL = 'https://github.com/login/oauth/authorize?' + this.clientId + scopeQuery;\n    this.window.loadURL(authURL);\n  }\n}\n"]}